/* === LabContext “more pizzazz” add-on (paste right before </style>) === */

/* Slightly richer depth + smoother motion */
:root{
  --shadow-2: 0 18px 60px rgba(28,28,30,.10);
  --shadow-3: 0 26px 90px rgba(28,28,30,.12);
  --ring: 0 0 0 4px rgba(63,81,181,.12);
  --ring-teal: 0 0 0 4px rgba(43,176,166,.12);
  --glow: 0 18px 60px rgba(63,81,181,.12);
  --glow-teal: 0 18px 60px rgba(43,176,166,.10);
}

@media (prefers-reduced-motion: no-preference){
  *{ scroll-behavior: smooth; }
}

/* Subtle paper grain overlay for the whole page */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  opacity: .18;
  background-image:
    radial-gradient(circle at 1px 1px, rgba(28,28,30,.18) 1px, transparent 0);
  background-size: 18px 18px;
  mix-blend-mode: multiply;
}

/* Make the wash feel more alive */
.bg-wash{
  filter: saturate(1.05) contrast(1.02);
}

/* Header polish */
.site-header{
  box-shadow: 0 10px 30px rgba(28,28,30,.06);
}
.brand-mark{
  position: relative;
  overflow: hidden;
}
.brand-mark::after{
  content:"";
  position:absolute;
  inset:-40%;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.55), transparent 55%);
  transform: rotate(18deg);
  opacity: .55;
}
.brand-title{
  text-shadow: 0 1px 0 rgba(255,255,255,.55);
}

/* Nav: “pill” hover + stronger current */
.nav a{
  transition: background .18s ease, color .18s ease, transform .18s ease;
}
.nav a:hover{
  transform: translateY(-1px);
}
.nav a[aria-current="page"]{
  box-shadow: var(--ring);
  border: 1px solid rgba(63,81,181,.18);
}

/* Hero: animated sheen + richer depth */
.hero{
  position: relative;
  overflow: hidden;
  box-shadow: var(--shadow-2);
}
.hero::before{
  content:"";
  position:absolute;
  inset:-2px;
  background:
    radial-gradient(900px 500px at 15% 20%, rgba(255,255,255,.55), transparent 58%),
    radial-gradient(900px 520px at 90% 10%, rgba(255,255,255,.35), transparent 60%),
    linear-gradient(135deg, rgba(63,81,181,.10), rgba(43,176,166,.08));
  opacity: .7;
  pointer-events:none;
}
.hero::after{
  content:"";
  position:absolute;
  inset:-60%;
  background: linear-gradient(120deg, transparent 40%, rgba(255,255,255,.20) 50%, transparent 60%);
  transform: translateX(-20%) rotate(8deg);
  opacity: .9;
  pointer-events:none;
}
@media (prefers-reduced-motion: no-preference){
  .hero::after{
    animation: heroSheen 7.5s ease-in-out infinite;
  }
  @keyframes heroSheen{
    0%{ transform: translateX(-35%) rotate(8deg); opacity:.0; }
    15%{ opacity:.85; }
    50%{ transform: translateX(35%) rotate(8deg); opacity:.35; }
    100%{ transform: translateX(70%) rotate(8deg); opacity:0; }
  }
}

/* Hero card: nicer glass + hover */
.hero-card{
  backdrop-filter: blur(10px);
  box-shadow: 0 16px 46px rgba(28,28,30,.08);
}
@media (prefers-reduced-motion: no-preference){
  .hero-card{
    transition: transform .18s ease, box-shadow .18s ease;
  }
  .hero-card:hover{
    transform: translateY(-3px);
    box-shadow: var(--shadow-3);
  }
}

/* Buttons: crisp hover + focus ring */
.btn{
  transition: transform .16s ease, box-shadow .16s ease, background .16s ease, border-color .16s ease;
}
.btn:hover{
  box-shadow: 0 14px 40px rgba(28,28,30,.10);
}
.btn:focus-visible{
  outline: none;
  box-shadow: var(--ring);
}
.btn-primary{
  box-shadow: var(--glow);
}
.btn-primary:focus-visible{
  box-shadow: var(--ring), var(--glow);
}
.btn-amber:focus-visible{
  box-shadow: 0 0 0 4px rgba(242,169,0,.16);
}

/* Cards grid: more “designed” hover + subtle top highlight */
.card{
  position: relative;
  overflow: hidden;
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.card::before{
  content:"";
  position:absolute;
  inset:-1px;
  background: radial-gradient(800px 220px at 20% 0%, rgba(255,255,255,.65), transparent 60%);
  opacity:.55;
  pointer-events:none;
}
.card:hover{
  transform: translateY(-4px);
  box-shadow: var(--shadow-2);
  border-color: rgba(63,81,181,.18);
}

/* Links: a nicer “underline” that feels intentional */
.card a,
.prose a{
  text-decoration: none;
  background-image: linear-gradient(currentColor, currentColor);
  background-size: 0% 2px;
  background-repeat: no-repeat;
  background-position: 0 100%;
  transition: background-size .18s ease, color .18s ease;
}
.card a:hover,
.prose a:hover{
  background-size: 100% 2px;
}

/* Module header: echo hero polish */
.module-header{
  position: relative;
  overflow: hidden;
  box-shadow: var(--shadow-2);
}
.module-header::after{
  content:"";
  position:absolute;
  inset:-60%;
  background: linear-gradient(120deg, transparent 42%, rgba(255,255,255,.18) 50%, transparent 58%);
  transform: translateX(-30%) rotate(8deg);
  opacity: .85;
  pointer-events:none;
}
@media (prefers-reduced-motion: no-preference){
  .module-header::after{
    animation: heroSheen 8.5s ease-in-out infinite;
  }
}

/* Choice buttons: clearer states */
.choice{
  transition: transform .14s ease, box-shadow .14s ease, background .14s ease, border-color .14s ease;
}
.choice:hover{
  transform: translateY(-2px);
  box-shadow: 0 12px 34px rgba(28,28,30,.08);
}
.choice:focus-visible{
  outline:none;
  box-shadow: var(--ring-teal);
  border-color: rgba(43,176,166,.28);
}

/* Badges: slightly punchier */
.badge{
  box-shadow: 0 10px 26px rgba(28,28,30,.06);
}

/* Make section titles feel a bit more “brand” */
.section-title{
  position: relative;
  padding-left: 14px;
}
.section-title::before{
  content:"";
  position:absolute;
  left:0;
  top: .35em;
  width: 6px;
  height: 18px;
  border-radius: 99px;
  background: linear-gradient(180deg, rgba(63,81,181,.70), rgba(43,176,166,.55));
  box-shadow: 0 8px 18px rgba(63,81,181,.16);
}
