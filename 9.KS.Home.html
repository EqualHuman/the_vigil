<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Knotte Studios — Wedding Websites Made Easy</title>
  <meta name="description" content="Choose a wedding website template, personalize it in minutes, and publish to your own hosted page." />

  <style>
  :root{
  /* Wedding palette */
  --bg: #fbf8f4;                 /* warm ivory */
  --card: rgba(255,255,255,.84);
  --text: #1f1a17;               /* ink */
  --muted: rgba(31,26,23,.66);
  --line: rgba(31,26,23,.10);

  --accent: #d7a3a7;             /* blush */
  --accent2:#d9c08f;             /* champagne */
  --sage: #a7c4b2;

  --radius: 22px;
  --shadow: 0 22px 60px rgba(35, 20, 16, .10);
  --max: 1100px;

  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
  --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  --serif: ui-serif, "Iowan Old Style", "Palatino Linotype", Palatino, Garamond, Georgia, serif;
}

*{ box-sizing:border-box; }

body{
  margin:0;
  font-family: var(--sans);
  color: var(--text);

  /* Soft wedding backdrop */
  background:
    radial-gradient(1200px 700px at 10% -10%, rgba(215,163,167,.20), transparent 60%),
    radial-gradient(1000px 600px at 90% 0%, rgba(217,192,143,.16), transparent 62%),
    radial-gradient(900px 600px at 50% 120%, rgba(167,196,178,.14), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,.60), rgba(251,248,244,1) 26%, rgba(251,248,244,1));
}

/* Subtle grain (designed feel, not "article") */
body:before{
  content:"";
  position: fixed;
  inset:0;
  pointer-events:none;
  opacity:.22;
  z-index:0;
  background:
    radial-gradient(circle at 20% 10%, rgba(0,0,0,.03), transparent 30%),
    radial-gradient(circle at 80% 20%, rgba(0,0,0,.02), transparent 32%),
    radial-gradient(circle at 40% 85%, rgba(0,0,0,.02), transparent 34%),
    repeating-linear-gradient(0deg, rgba(0,0,0,.010) 0 1px, transparent 1px 6px);
  mix-blend-mode: multiply;
}

/* Ambient bloom + bokeh + gentle shimmer */
body:after{
  content:"";
  position: fixed;
  inset:-12%;
  pointer-events:none;
  z-index:0;
  opacity:.58;
  background:
    radial-gradient(520px 360px at 14% 12%, rgba(215,163,167,.22), transparent 62%),
    radial-gradient(560px 380px at 86% 8%, rgba(217,192,143,.18), transparent 64%),
    radial-gradient(600px 420px at 52% 104%, rgba(167,196,178,.14), transparent 62%),

    radial-gradient(18px 18px at 22% 28%, rgba(255,255,255,.45), transparent 70%),
    radial-gradient(22px 22px at 72% 22%, rgba(255,255,255,.35), transparent 72%),
    radial-gradient(16px 16px at 58% 40%, rgba(255,255,255,.25), transparent 72%),
    radial-gradient(26px 26px at 80% 54%, rgba(255,255,255,.26), transparent 74%),
    radial-gradient(14px 14px at 34% 62%, rgba(255,255,255,.20), transparent 72%),
    radial-gradient(20px 20px at 18% 78%, rgba(255,255,255,.18), transparent 72%),

    linear-gradient(120deg,
      rgba(255,255,255,.00) 0%,
      rgba(255,255,255,.06) 35%,
      rgba(255,255,255,.00) 70%,
      rgba(255,255,255,.00) 100%
    );
  animation: ksShimmer 12s ease-in-out infinite;
}

@keyframes ksShimmer{
  0%   { transform: translate3d(-1.2%, -0.6%, 0); opacity:.50; }
  50%  { transform: translate3d( 1.2%,  0.8%, 0); opacity:.62; }
  100% { transform: translate3d(-1.2%, -0.6%, 0); opacity:.50; }
}

a{ color:inherit; text-decoration:none; }

.wrap{
  max-width: var(--max);
  margin: 0 auto;
  padding: 28px 18px 80px;
  position: relative;
  z-index: 2; /* above ambiance */
}

/* Topbar */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:14px 0 18px;
}

.brand{
  display:flex;
  align-items:center;
  gap:12px;
  font-weight:800;
  letter-spacing:.2px;
}

.logo{
  width:40px;
  height:40px;
  border-radius:12px;
  background: linear-gradient(135deg, rgba(215,163,167,.95), rgba(217,192,143,.92));
  box-shadow: 0 12px 30px rgba(35,20,16,.10);
}

.nav{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
}

.pill{
  border:1px solid rgba(31,26,23,.12);
  background: rgba(255,255,255,.78);
  padding:10px 12px;
  border-radius:999px;
  font-weight:750;
  color: rgba(31,26,23,.72);
  transition:.18s ease;
  box-shadow: 0 10px 22px rgba(35,20,16,.05);
  backdrop-filter: blur(8px);
}

.pill:hover{
  transform:translateY(-1px);
  border-color: rgba(31,26,23,.18);
  color: rgba(31,26,23,.88);
}

/* Buttons */
.cta{
  background: linear-gradient(135deg, rgba(215,163,167,.98), rgba(217,192,143,.96));
  border:none;
  color: rgba(31,26,23,.90);
  font-weight:900;
  padding:12px 16px;
  border-radius:999px;
  box-shadow: 0 18px 44px rgba(35,20,16,.12);
  cursor:pointer;
  transition:.18s ease;
}

.cta:hover{
  transform:translateY(-1px);
  filter:saturate(1.02) brightness(1.01);
}

.ghost{
  border:1px solid rgba(31,26,23,.12);
  background: rgba(255,255,255,.82);
  color: rgba(31,26,23,.86);
  font-weight:850;
  padding:11px 14px;
  border-radius: 14px;
  cursor:pointer;
  transition:.18s ease;
  box-shadow: 0 12px 26px rgba(35,20,16,.06);
}

.ghost:hover{
  transform:translateY(-1px);
  border-color: rgba(31,26,23,.18);
}

/* Hero */
.hero{
  margin-top:14px;
  border: 1px solid rgba(31,26,23,.10);
  border-radius: 26px;
  padding: 34px 34px 30px;
  background:
    radial-gradient(900px 420px at 80% 0%, rgba(215,163,167,.18), transparent 60%),
    radial-gradient(900px 420px at 20% 10%, rgba(217,192,143,.16), transparent 62%),
    rgba(255,255,255,.84);
  box-shadow:
    0 26px 70px rgba(35,20,16,.12),
    inset 0 0 0 1px rgba(255,255,255,.45),
    0 0 90px rgba(215,163,167,.10);
  overflow:hidden;
  position:relative;
}

.hero:before{
  content:"";
  position:absolute;
  inset:-2px;
  background:
    radial-gradient(520px 220px at 20% 18%, rgba(215,163,167,.12), transparent 60%),
    radial-gradient(520px 220px at 80% 10%, rgba(217,192,143,.10), transparent 60%);
  pointer-events:none;
  opacity:.10;
  filter: blur(5px);
}

.hero:after{
  content:"";
  position:absolute;
  inset: 14px;
  border-radius: 22px;
  border: 1px solid rgba(31,26,23,.08);
  pointer-events:none;
  opacity:.9;
}

.hero > *{ position:relative; }

.kicker{
  display:inline-flex;
  align-items:center;
  gap:10px;
  border:1px solid rgba(31,26,23,.10);
  background: rgba(255,255,255,.72);
  border-radius:999px;
  padding:8px 12px;
  font-weight:800;
  color: rgba(31,26,23,.66);
  margin-bottom:14px;
}

.dot{
  width:10px;
  height:10px;
  border-radius:50%;
  background: var(--sage);
  box-shadow: 0 0 0 4px rgba(167,196,178,.18);
}

h1{
  margin:10px 0 10px;
  font-family: var(--serif);
  font-size: clamp(30px, 4vw, 50px);
  line-height: 1.02;
  letter-spacing: -0.03em;
  font-weight: 800;
  max-width: 18ch;
  color: rgba(31,26,23,.92);
}

.sub{
  margin:0 0 18px;
  max-width: 64ch;
  color: rgba(31,26,23,.66);
  font-size: 1.08rem;
  line-height: 1.65;
}

.heroActions{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  align-items:center;
  margin-top:14px;
}

/* Sections */
.sectionTitle{
  margin-top: 28px;
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap: 16px;
  flex-wrap:wrap;
}

.sectionTitle h2{
  margin:0;
  font-family: var(--serif);
  font-size: 1.7rem;
  letter-spacing:-0.02em;
  font-weight: 750;
}

.sectionTitle .hint{
  margin:0;
  color: rgba(31,26,23,.62);
  max-width: 70ch;
  line-height:1.55;
}

/* Template grid/cards */
.grid{
  display:grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 16px;
  margin-top: 18px;
}

.card{
  grid-column: span 4;
  border:1px solid rgba(31,26,23,.10);
  background: linear-gradient(180deg, rgba(255,255,255,.88), rgba(255,255,255,.72));
  border-radius: 22px;
  padding: 18px;
  box-shadow: 0 22px 60px rgba(35,20,16,.10);
  position:relative;
  overflow:hidden;
}

.card h3{
  margin:10px 0 6px;
  font-family: var(--serif);
  font-size:1.18rem;
  font-weight: 720;
}

.card p{
  margin:0;
  color: rgba(31,26,23,.62);
  line-height:1.55;
}

/* Thumbnail = “photo frame” */
.thumb{
  border-radius: 18px;
  border:1px solid rgba(31,26,23,.10);
  overflow:hidden;
  height: 190px;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  background:
    radial-gradient(500px 220px at 20% 20%, rgba(215,163,167,.24), transparent 60%),
    radial-gradient(520px 240px at 80% 25%, rgba(217,192,143,.18), transparent 62%),
    radial-gradient(520px 260px at 50% 110%, rgba(167,196,178,.18), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,255,255,.36));
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.55),
    0 18px 44px rgba(35,20,16,.10);
}

.thumb:after{
  content:"";
  position:absolute;
  inset: 12px;
  border-radius: 14px;
  border: 1px solid rgba(31,26,23,.08);
  background: rgba(255,255,255,.18);
  pointer-events:none;
}

.thumb .label{
  position:absolute;
  top:10px; left:10px;
  font-family: var(--sans);
  font-size:.8rem;
  font-weight: 800;
  letter-spacing:.02em;
  color: rgba(31,26,23,.70);
  padding:6px 10px;
  border-radius:999px;
  background: rgba(255,255,255,.78);
  border:1px solid rgba(31,26,23,.10);
}

.thumb .mini{
  width: 92%;
  height: 78%;
  border-radius: 12px;
  border:1px solid rgba(31,26,23,.08);
  background: rgba(255,255,255,.25);
  position:relative;
  overflow:hidden;
}
.mini:before{ opacity: 0; } /* stop wireframe look */

/* Card buttons */
.cardActions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top: 14px;
}

.btn{
  border:1px solid rgba(31,26,23,.12);
  background: rgba(255,255,255,.82);
  color: rgba(31,26,23,.86);
  font-weight:850;
  padding:10px 12px;
  border-radius: 14px;
  cursor:pointer;
  transition:.18s ease;
  flex:1;
  min-width: 140px;
  text-align:center;
  box-shadow: 0 12px 26px rgba(35,20,16,.06);
}

.btn:hover{
  transform:translateY(-1px);
  border-color: rgba(31,26,23,.18);
}

.btnPrimary{
  background: linear-gradient(135deg, rgba(215,163,167,.98), rgba(217,192,143,.96));
  border:none;
  color: rgba(31,26,23,.90);
  box-shadow: 0 18px 44px rgba(35,20,16,.12);
}

/* Steps */
.steps{
  margin-top: 18px;
  border:1px solid rgba(31,26,23,.10);
  background: linear-gradient(180deg, rgba(255,255,255,.74), rgba(255,255,255,.58));
  border-radius: 24px;
  padding: 18px;
  display:grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 14px;
  box-shadow: 0 22px 60px rgba(35,20,16,.08);
}

.step{
  grid-column: span 4;
  border:1px solid rgba(31,26,23,.10);
  border-radius: 18px;
  padding: 14px;
  background: rgba(255,255,255,.78);
  box-shadow: 0 14px 34px rgba(35,20,16,.06);
}

.step strong{
  display:block;
  margin-bottom:6px;
  font-family: var(--serif);
  letter-spacing:-0.01em;
}

.step span{
  color: rgba(31,26,23,.62);
  line-height:1.5;
}

/* Footer */
footer{
  margin-top: 28px;
  padding-top: 18px;
  border-top:1px solid rgba(31,26,23,.10);
  color: rgba(31,26,23,.60);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  flex-wrap:wrap;
}

/* Modal */
.modalBack{
  position:fixed;
  inset:0;
  background: rgba(31,26,23,.55);
  display:none;
  align-items:center;
  justify-content:center;
  padding: 18px;
  z-index: 9999;
}

.modal{
  width:min(980px, 100%);
  border:1px solid rgba(31,26,23,.10);
  background: rgba(255,255,255,.92);
  border-radius: 18px;
  box-shadow: var(--shadow);
  overflow:hidden;
}

.modalTop{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding: 12px 14px;
  border-bottom: 1px solid rgba(31,26,23,.10);
}

.modalTop .title{
  font-weight:900;
  letter-spacing:.2px;
}

.modalTop button{
  border:1px solid rgba(31,26,23,.12);
  background: rgba(255,255,255,.86);
  color: rgba(31,26,23,.86);
  font-weight:900;
  padding: 8px 10px;
  border-radius: 12px;
  cursor:pointer;
}

.modalBody{
  padding: 0;
  height: min(70vh, 620px);
}

iframe{
  width:100%;
  height:100%;
  border:0;
  background: #fff;
}

/* Petals layer (your HTML is already added) */
.ks-petals{
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1; /* between ambiance (0) and content (2) */
  overflow: hidden;
}

.ks-petal{
  position: absolute;
  top: -10vh;
  width: 10px;
  height: 14px;
  border-radius: 80% 20% 80% 20% / 70% 30% 70% 30%;
  opacity: .18;
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,.75), rgba(255,255,255,.0) 58%),
    linear-gradient(180deg, rgba(215,163,167,.65), rgba(217,192,143,.35));
  box-shadow: 0 10px 18px rgba(35,20,16,.06);
  animation:
    ksFall var(--dur, 18s) linear infinite,
    ksSway var(--sway, 6s) ease-in-out infinite,
    ksSpin var(--spin, 9s) linear infinite;
  left: var(--x, 50%);
}

@keyframes ksFall{
  0%   { transform: translate3d(0, -12vh, 0); }
  100% { transform: translate3d(0, 118vh, 0); }
}
@keyframes ksSway{
  0%,100% { margin-left: -8px; }
  50%     { margin-left:  10px; }
}
@keyframes ksSpin{
  0%   { rotate: 0deg; }
  100% { rotate: 360deg; }
}

/* Responsive */
@media (max-width: 920px){
  .card{ grid-column: span 6; }
  .step{ grid-column: span 6; }
}
@media (max-width: 620px){
  .card{ grid-column: span 12; }
  .step{ grid-column: span 12; }
  .btn{ min-width: 100%; }
  .hero{ padding: 26px 20px 22px; }
  h1{ max-width: 22ch; }
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  body:after{ animation:none; }
  .ks-petal{ animation:none; display:none; }
}

  </style>
</head>
<body>
  <div class="ks-petals" aria-hidden="true">
    <span class="ks-petal" style="--x:12%; --dur:18s; --sway:6s; --spin:10s;"></span>
    <span class="ks-petal" style="--x:22%; --dur:22s; --sway:7s; --spin:12s; opacity:.18; width:8px; height:12px;"></span>
    <span class="ks-petal" style="--x:34%; --dur:19s; --sway:5.6s; --spin:9s;"></span>
    <span class="ks-petal" style="--x:46%; --dur:24s; --sway:7.4s; --spin:13s; opacity:.16;"></span>
    <span class="ks-petal" style="--x:58%; --dur:20s; --sway:6.4s; --spin:11s;"></span>
    <span class="ks-petal" style="--x:70%; --dur:26s; --sway:8s; --spin:14s; opacity:.15; width:9px; height:13px;"></span>
    <span class="ks-petal" style="--x:82%; --dur:21s; --sway:6.8s; --spin:12s;"></span>
    <span class="ks-petal" style="--x:92%; --dur:28s; --sway:8.6s; --spin:15s; opacity:.14;"></span>
  </div>

  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <div style="font-size:1.05rem; line-height:1.1;">Knotte Studios</div>
          <div style="font-size:.85rem; color:var(--muted); font-weight:650;">Wedding sites • Hosting • Updates</div>
        </div>
      </div>

      <div class="nav">
        <a class="pill" href="#templates">Templates</a>
        <a class="pill" href="#how">How it works</a>
        <a class="pill" href="9.KS.SignUp.html">Sign in</a>
        <button class="cta" id="startBtn" type="button">Choose a template</button>
      </div>
    </div>

    <section class="hero">
      <div class="kicker"><span class="dot"></span> Hosted on our domain • editable anytime</div>
      <h1>Pick a template. Customize it in minutes. Publish your wedding site instantly.</h1>
      <p class="sub">
        Knotte Studios gives couples a clean editing page so most of the process is automated.
        You choose a design, fill in your details, and we host your site under your own unique page on our domain.
      </p>
      <div class="heroActions">
        <button class="cta" type="button" id="heroPick">Pick a template</button>
        <button class="ghost" type="button" id="heroPreview">Preview templates</button>
      </div>
    </section>

    <div class="sectionTitle" id="templates">
      <h2>Template gallery</h2>
      <p class="hint">Preview a design, then choose it. Your selection follows you into the account + editor.</p>
    </div>

    <div class="grid" id="templateGrid"></div>

    <div class="sectionTitle" id="how">
      <h2>How it works</h2>
      <p class="hint">This MVP is set up so you can automate the workflow now, then plug in real publishing later.</p>
    </div>

    <div class="steps">
      <div class="step">
        <strong>1) Choose a template</strong>
        <span>Pick a style. Your choice is saved automatically.</span>
      </div>
      <div class="step">
        <strong>2) Edit your content</strong>
        <span>Use the editing page to set names, date, venue, RSVP link, and more.</span>
      </div>
      <div class="step">
        <strong>3) Publish / Export</strong>
        <span>Export an HTML file immediately. Later, connect “Publish” to your hosting backend.</span>
      </div>
    </div>

    <footer>
      <div>© <span id="year"></span> Knotte Studios</div>
      <div style="display:flex; gap:10px; flex-wrap:wrap;">
        <a class="pill" href="9.KS.SignUp.html">Account</a>
        <a class="pill" href="9.KS.Dashboard.html">Dashboard</a>
        <a class="pill" href="9.KS.Editor.html">Editor</a>
      </div>
    </footer>
  </div>

  <!-- Preview Modal -->
  <div class="modalBack" id="modalBack" role="dialog" aria-modal="true" aria-label="Template preview">
    <div class="modal">
      <div class="modalTop">
        <div class="title" id="modalTitle">Template Preview</div>
        <button type="button" id="closeModal">Close</button>
      </div>
      <div class="modalBody">
        <iframe id="previewFrame" title="Template preview"></iframe>
      </div>
    </div>
  </div>

  <script>
    const TEMPLATES = [
      {
        id: "t1-elegant-night",
        name: "Elegant Night",
        desc: "Modern dark theme with crisp sections and RSVP focus.",
        badge: "Popular",
        previewHTML: getTemplateHTML("elegant")
      },
      {
        id: "t2-garden-day",
        name: "Garden Day",
        desc: "Bright, airy layout with timeline + details.",
        badge: "Fresh",
        previewHTML: getTemplateHTML("garden")
      },
      {
        id: "t3-minimal-classic",
        name: "Minimal Classic",
        desc: "Super clean, typography-forward, fast to read.",
        badge: "Simple",
        previewHTML: getTemplateHTML("minimal")
      }
    ];

    function setSelectedTemplate(id){
      localStorage.setItem("KS_SELECTED_TEMPLATE", id);
    }
    function getSelectedTemplate(){
      return localStorage.getItem("KS_SELECTED_TEMPLATE") || "";
    }

    function $(id){ return document.getElementById(id); }

    function openModal(title, html){
      $("modalTitle").textContent = title;
      const blob = new Blob([html], {type:"text/html"});
      const url = URL.createObjectURL(blob);
      $("previewFrame").src = url;
      $("modalBack").style.display = "flex";
      $("modalBack").dataset.blobUrl = url;
    }

    function closeModal(){
      const back = $("modalBack");
      back.style.display = "none";
      const url = back.dataset.blobUrl;
      if(url) URL.revokeObjectURL(url);
      back.dataset.blobUrl = "";
      $("previewFrame").src = "about:blank";
    }

    function renderTemplates(){
      const grid = $("templateGrid");
      grid.innerHTML = "";
      const selected = getSelectedTemplate();

      TEMPLATES.forEach(t => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <div class="thumb" aria-hidden="true">
            <div class="label">${t.badge}</div>
            <div class="mini"></div>
          </div>
          <h3>${escapeHTML(t.name)}</h3>
          <p>${escapeHTML(t.desc)}</p>
          <div class="cardActions">
            <button class="btn" type="button" data-action="preview" data-id="${t.id}">Preview</button>
            <button class="btn btnPrimary" type="button" data-action="choose" data-id="${t.id}">
              ${t.id === selected ? "Selected ✓" : "Choose template"}
            </button>
          </div>
        `;
        grid.appendChild(card);
      });
    }

    function escapeHTML(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    function getTemplateHTML(flavor){
      // This preview uses placeholder tokens like {{COUPLE_NAMES}}; the editor will replace them.
      const base = `
<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{COUPLE_NAMES}} — Wedding</title>
  <style>
    :root{
      --bg:#0b0c10; --card:#12141b; --text:#f4f6ff; --muted:#b7bdd6;
      --line:rgba(255,255,255,.10); --accent:#7c5cff; --accent2:#20d3ff;
      --radius:18px;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    body{margin:0; font-family:var(--sans); background:var(--bg); color:var(--text);}
    .wrap{max-width:980px; margin:0 auto; padding:28px 18px 70px;}
    header{border:1px solid var(--line); border-radius:var(--radius); padding:22px; background:rgba(255,255,255,.03);}
    h1{margin:0 0 6px; font-size:34px; letter-spacing:-.02em;}
    .sub{margin:0; color:var(--muted); line-height:1.55;}
    .grid{display:grid; grid-template-columns: repeat(12,1fr); gap:14px; margin-top:16px;}
    .card{grid-column:span 6; border:1px solid var(--line); border-radius:var(--radius); padding:16px; background:rgba(255,255,255,.03);}
    .card h2{margin:0 0 8px; font-size:18px}
    .card p{margin:0; color:var(--muted); line-height:1.5;}
    .btn{
      display:inline-block; margin-top:12px;
      padding:10px 12px; border-radius:12px;
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      color:#061018; font-weight:900; text-decoration:none;
    }
    footer{margin-top:22px; color:var(--muted); font-size:14px}
    @media (max-width:720px){ .card{grid-column:span 12;} }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>{{COUPLE_NAMES}}</h1>
      <p class="sub">{{WEDDING_DATE}} • {{WEDDING_LOCATION}}</p>
      <p class="sub" style="margin-top:10px;">{{WELCOME_MESSAGE}}</p>
      <a class="btn" href="{{RSVP_URL}}">RSVP</a>
    </header>

    <div class="grid">
      <div class="card">
        <h2>Schedule</h2>
        <p>{{SCHEDULE_TEXT}}</p>
      </div>
      <div class="card">
        <h2>Details</h2>
        <p>{{DETAILS_TEXT}}</p>
      </div>
      <div class="card">
        <h2>Registry</h2>
        <p>{{REGISTRY_TEXT}}</p>
      </div>
      <div class="card">
        <h2>Our Story</h2>
        <p>{{STORY_TEXT}}</p>
      </div>
    </div>

    <footer>Hosted by Knotte Studios</footer>
  </div>
</body>
</html>`;

      if(flavor === "garden"){
        return base.replaceAll("#0b0c10","#07130f")
                   .replaceAll("#12141b","#0c1c16")
                   .replaceAll("#7c5cff","#7cffb0")
                   .replaceAll("#20d3ff","#88e8ff");
      }
      if(flavor === "minimal"){
        return base.replaceAll("background:var(--bg);","background:#0b0c10;")
                   .replaceAll("--bg:#0b0c10; --card:#12141b;","--bg:#0b0c10; --card:#0e1016;")
                   .replaceAll("linear-gradient(135deg,var(--accent),var(--accent2))","linear-gradient(135deg,#ffffff,#b7bdd6)")
                   .replaceAll("color:#061018;","color:#0b0c10;");
      }
      return base; // elegant default
    }

    // Events
    document.addEventListener("click", (e) => {
      const btn = e.target.closest("button");
      if(!btn) return;

      const action = btn.dataset.action;
      const id = btn.dataset.id;
      if(!action || !id) return;

      const t = TEMPLATES.find(x => x.id === id);
      if(!t) return;

      if(action === "preview"){
        openModal(`Preview: ${t.name}`, t.previewHTML);
      }
      if(action === "choose"){
        setSelectedTemplate(id);
        renderTemplates();
        // Move them into account creation / login flow
        window.location.href = "9.KS.SignUp.html";
      }
    });

    $("closeModal").addEventListener("click", closeModal);
    $("modalBack").addEventListener("click", (e) => {
      if(e.target === $("modalBack")) closeModal();
    });

    $("startBtn").addEventListener("click", () => {
      document.getElementById("templates").scrollIntoView({behavior:"smooth"});
    });
    $("heroPick").addEventListener("click", () => {
      document.getElementById("templates").scrollIntoView({behavior:"smooth"});
    });
    $("heroPreview").addEventListener("click", () => {
      document.getElementById("templates").scrollIntoView({behavior:"smooth"});
    });

    $("year").textContent = new Date().getFullYear();
    renderTemplates();
  </script>
</body>
</html>
