<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Knotte Studios — Wedding Websites Made Easy</title>
  <meta name="description" content="Choose a wedding website template, personalize it in minutes, and publish to your own hosted page." />

  <style>
    :root{
      --bg:#0b0c10;
      --card:#12141b;
      --text:#f4f6ff;
      --muted:#b7bdd6;
      --line:rgba(255,255,255,.10);
      --accent:#7c5cff;
      --accent2:#20d3ff;
      --good:#2be4a7;
      --danger:#ff4d6d;

      --radius:18px;
      --shadow: 0 14px 40px rgba(0,0,0,.45);
      --max: 1100px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--sans);
      background: radial-gradient(1200px 700px at 18% -10%, rgba(124,92,255,.35), transparent 55%),
                  radial-gradient(900px 500px at 92% 8%, rgba(32,211,255,.25), transparent 55%),
                  radial-gradient(900px 600px at 50% 110%, rgba(43,228,167,.16), transparent 55%),
                  var(--bg);
      color:var(--text);
    }
    a{color:inherit; text-decoration:none}
    .wrap{max-width:var(--max); margin:0 auto; padding:28px 18px 80px}
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; padding:14px 0;
    }
    .brand{
      display:flex; align-items:center; gap:12px;
      font-weight:800; letter-spacing:.2px;
    }
    .logo{
      width:40px; height:40px; border-radius:12px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 10px 30px rgba(124,92,255,.28);
    }
    .nav{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
    }
    .pill{
      border:1px solid var(--line);
      background: rgba(255,255,255,.03);
      padding:10px 12px;
      border-radius:999px;
      font-weight:650;
      color:var(--muted);
      transition:.18s ease;
    }
    .pill:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.18); color:var(--text)}
    .cta{
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      border:none;
      color:#071018;
      font-weight:900;
      padding:10px 14px;
      border-radius:999px;
      box-shadow: 0 14px 34px rgba(124,92,255,.24);
      cursor:pointer;
      transition:.18s ease;
    }
    .cta:hover{transform:translateY(-1px); filter:saturate(1.05)}
    .hero{
      margin-top:14px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.03);
      border-radius: var(--radius);
      padding:26px;
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .hero:before{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(520px 220px at 20% 18%, rgba(124,92,255,.35), transparent 60%),
                  radial-gradient(520px 220px at 80% 10%, rgba(32,211,255,.25), transparent 60%);
      pointer-events:none;
      opacity:.8;
    }
    .hero > *{position:relative}
    .kicker{
      display:inline-flex; align-items:center; gap:10px;
      border:1px solid var(--line);
      background: rgba(0,0,0,.22);
      border-radius:999px;
      padding:8px 12px;
      font-weight:750;
      color:var(--muted);
      margin-bottom:14px;
    }
    .dot{
      width:10px; height:10px; border-radius:50%;
      background: var(--good);
      box-shadow: 0 0 0 4px rgba(43,228,167,.12);
    }
    h1{
      margin:10px 0 10px;
      font-size: clamp(28px, 4vw, 44px);
      line-height: 1.08;
      letter-spacing: -0.02em;
    }
    .sub{
      margin:0 0 18px;
      max-width: 62ch;
      color: var(--muted);
      font-size: 1.05rem;
      line-height: 1.55;
    }
    .heroActions{
      display:flex; gap:12px; flex-wrap:wrap; align-items:center;
      margin-top:14px;
    }
    .ghost{
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color:var(--text);
      font-weight:850;
      padding:11px 14px;
      border-radius: 999px;
      cursor:pointer;
      transition:.18s ease;
    }
    .ghost:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.18)}
    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 16px;
      margin-top: 22px;
    }
    .card{
      grid-column: span 4;
      border:1px solid var(--line);
      background: rgba(255,255,255,.03);
      border-radius: var(--radius);
      padding: 16px;
      box-shadow: 0 12px 32px rgba(0,0,0,.35);
      position:relative;
      overflow:hidden;
    }
    .card h3{margin:10px 0 6px; font-size:1.12rem}
    .card p{margin:0; color:var(--muted); line-height:1.5}
    .thumb{
      border-radius: 14px;
      border:1px solid var(--line);
      overflow:hidden;
      background: rgba(0,0,0,.18);
      height: 170px;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
    }
    .thumb .label{
      position:absolute;
      top:10px; left:10px;
      font-family:var(--mono);
      font-size:.8rem;
      color:rgba(255,255,255,.85);
      padding:6px 10px;
      border-radius:999px;
      background: rgba(0,0,0,.35);
      border:1px solid var(--line);
    }
    .thumb .mini{
      width: 92%;
      height: 78%;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.14);
      background:
        linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02)),
        radial-gradient(280px 140px at 25% 20%, rgba(124,92,255,.25), transparent 55%),
        radial-gradient(280px 140px at 75% 30%, rgba(32,211,255,.18), transparent 55%),
        rgba(0,0,0,.12);
      position:relative;
      overflow:hidden;
    }
    .mini:before{
      content:"";
      position:absolute; inset:0;
      background:
        linear-gradient(transparent 0 18px, rgba(255,255,255,.10) 18px 19px, transparent 19px 38px, rgba(255,255,255,.07) 38px 39px, transparent 39px),
        linear-gradient(90deg, transparent 0 18px, rgba(255,255,255,.10) 18px 19px, transparent 19px 38px, rgba(255,255,255,.07) 38px 39px, transparent 39px);
      opacity:.35;
      transform:skewY(-6deg) scale(1.05);
      transform-origin:center;
    }
    .cardActions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 14px;
    }
    .btn{
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: var(--text);
      font-weight:850;
      padding:10px 12px;
      border-radius: 12px;
      cursor:pointer;
      transition:.18s ease;
      flex:1;
      min-width: 140px;
      text-align:center;
    }
    .btn:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.18)}
    .btnPrimary{
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      border:none;
      color:#071018;
      box-shadow: 0 14px 34px rgba(124,92,255,.22);
    }
    .btnPrimary:hover{filter:saturate(1.05)}
    .sectionTitle{
      margin-top: 28px;
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap: 16px;
      flex-wrap:wrap;
    }
    .sectionTitle h2{
      margin:0;
      font-size: 1.55rem;
      letter-spacing:-0.01em;
    }
    .sectionTitle .hint{
      margin:0;
      color:var(--muted);
      max-width: 70ch;
      line-height:1.5;
    }
    .steps{
      margin-top: 18px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.02);
      border-radius: var(--radius);
      padding: 18px;
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 14px;
    }
    .step{
      grid-column: span 4;
      border:1px solid var(--line);
      border-radius: 16px;
      padding: 14px;
      background: rgba(0,0,0,.18);
    }
    .step strong{display:block; margin-bottom:6px}
    .step span{color:var(--muted); line-height:1.45}
    footer{
      margin-top: 28px;
      padding-top: 18px;
      border-top:1px solid var(--line);
      color: var(--muted);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      flex-wrap:wrap;
    }

    /* Modal */
    .modalBack{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.72);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 9999;
    }
    .modal{
      width:min(980px, 100%);
      border:1px solid var(--line);
      background: rgba(18,20,27,.96);
      border-radius: 18px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .modalTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      padding: 12px 14px;
      border-bottom: 1px solid var(--line);
    }
    .modalTop .title{
      font-weight:900;
      letter-spacing:.2px;
    }
    .modalTop button{
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: var(--text);
      font-weight:900;
      padding: 8px 10px;
      border-radius: 12px;
      cursor:pointer;
    }
    .modalBody{
      padding: 0;
      height: min(70vh, 620px);
    }
    iframe{
      width:100%;
      height:100%;
      border:0;
      background: #0b0c10;
    }

    @media (max-width: 920px){
      .card{grid-column: span 6;}
      .step{grid-column: span 6;}
    }
    @media (max-width: 620px){
      .card{grid-column: span 12;}
      .step{grid-column: span 12;}
      .btn{min-width: 100%;}
    }
    /* ================================
   KNOTTE STUDIOS — WEDDING THEME
   Paste right before </style>
   ================================ */

/* Softer, bridal palette */
:root{
  --bg: #fbf8f4;                /* warm ivory */
  --card: rgba(255,255,255,.86);
  --text: #1f1a17;              /* ink */
  --muted: rgba(31,26,23,.68);  /* soft ink */
  --line: rgba(31,26,23,.10);   /* warm hairline */

  --accent: #d7a3a7;            /* blush */
  --accent2:#d9c08f;            /* champagne */

  --radius: 22px;
  --shadow: 0 18px 55px rgba(35, 20, 16, .10);

  /* If you want even more “wedding”, keep this: */
  --serif: ui-serif, "Iowan Old Style", "Palatino Linotype", Palatino, Garamond, Georgia, serif;
  --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

/* Remove the neon glows + dark vibe */
body{
  background:
    radial-gradient(900px 540px at 18% -12%, rgba(215,163,167,.22), transparent 60%),
    radial-gradient(900px 540px at 86% 0%, rgba(217,192,143,.18), transparent 62%),
    radial-gradient(1100px 700px at 50% 115%, rgba(167,196,178,.16), transparent 55%),
    var(--bg) !important;
  color: var(--text) !important;
}

/* Brand/logo: less “tech”, more luxe */
.logo{
  background: linear-gradient(135deg, rgba(215,163,167,.95), rgba(217,192,143,.92)) !important;
  box-shadow: 0 12px 30px rgba(35,20,16,.10) !important;
}

/* Pills/buttons: refined */
.pill{
  background: rgba(255,255,255,.65) !important;
  border-color: rgba(31,26,23,.12) !important;
  color: rgba(31,26,23,.72) !important;
  backdrop-filter: blur(8px);
}
.pill:hover{
  border-color: rgba(31,26,23,.18) !important;
  color: rgba(31,26,23,.88) !important;
}

/* Hero + panels: bright bridal card look */
.hero,
.card,
.steps,
.step,
.modal{
  background: var(--card) !important;
  border-color: rgba(31,26,23,.10) !important;
  box-shadow: 0 18px 55px rgba(35,20,16,.10) !important;
}

/* Kill the hero “glow overlay” */
.hero:before{
  opacity: .10 !important;
  filter: blur(2px);
}

/* Headings: editorial wedding feel */
h1, .sectionTitle h2, .card h3{
  font-family: var(--serif) !important;
  letter-spacing: -0.02em !important;
}
h1{
  color: rgba(31,26,23,.92) !important;
  text-shadow: none !important;
}
.sub, .hint, p{
  color: rgba(31,26,23,.68) !important;
}

/* Kicker: soft, not “status light” */
.kicker{
  background: rgba(255,255,255,.68) !important;
  border-color: rgba(31,26,23,.10) !important;
  color: rgba(31,26,23,.68) !important;
}
.dot{
  background: #a7c4b2 !important; /* sage */
  box-shadow: 0 0 0 4px rgba(167,196,178,.18) !important;
}

/* Primary buttons: blush → champagne, no neon pop */
.cta,
.btnPrimary{
  background: linear-gradient(135deg, rgba(215,163,167,.98), rgba(217,192,143,.96)) !important;
  color: rgba(31,26,23,.90) !important;
  box-shadow: 0 16px 38px rgba(35,20,16,.12) !important;
}
.cta:hover,
.btnPrimary:hover{
  transform: translateY(-1px);
  filter: saturate(1.02) brightness(1.01) !important;
}

/* Secondary buttons: clean, bridal */
.ghost,
.btn{
  background: rgba(255,255,255,.70) !important;
  border-color: rgba(31,26,23,.12) !important;
  color: rgba(31,26,23,.86) !important;
}
.ghost:hover,
.btn:hover{
  border-color: rgba(31,26,23,.18) !important;
}

/* Template thumbnails: make them feel like photo frames */
.thumb{
  background: rgba(255,255,255,.55) !important;
  border-color: rgba(31,26,23,.10) !important;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.35);
}
.thumb .label{
  background: rgba(255,255,255,.72) !important;
  border-color: rgba(31,26,23,.10) !important;
  color: rgba(31,26,23,.72) !important;
}
.thumb .mini{
  background:
    linear-gradient(180deg, rgba(255,255,255,.58), rgba(255,255,255,.18)),
    radial-gradient(320px 160px at 22% 24%, rgba(215,163,167,.22), transparent 60%),
    radial-gradient(320px 160px at 78% 28%, rgba(217,192,143,.18), transparent 62%),
    radial-gradient(380px 220px at 50% 105%, rgba(167,196,178,.18), transparent 55%),
    rgba(255,255,255,.35) !important;
  border-color: rgba(31,26,23,.10) !important;
}
.mini:before{
  opacity: .10 !important; /* reduce grid overlay */
}

/* Steps section: lighter and airy */
.steps{
  background: rgba(255,255,255,.72) !important;
}
.step{
  background: rgba(255,255,255,.78) !important;
}

/* Modal backdrop: less harsh */
.modalBack{
  background: rgba(31,26,23,.55) !important;
}

  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <div style="font-size:1.05rem; line-height:1.1;">Knotte Studios</div>
          <div style="font-size:.85rem; color:var(--muted); font-weight:650;">Wedding sites • Hosting • Updates</div>
        </div>
      </div>

      <div class="nav">
        <a class="pill" href="#templates">Templates</a>
        <a class="pill" href="#how">How it works</a>
        <a class="pill" href="9.KS.SignUp.html">Sign in</a>
        <button class="cta" id="startBtn" type="button">Choose a template</button>
      </div>
    </div>

    <section class="hero">
      <div class="kicker"><span class="dot"></span> Hosted on our domain • editable anytime</div>
      <h1>Pick a template. Customize it in minutes. Publish your wedding site instantly.</h1>
      <p class="sub">
        Knotte Studios gives couples a clean editing page so most of the process is automated.
        You choose a design, fill in your details, and we host your site under your own unique page on our domain.
      </p>
      <div class="heroActions">
        <button class="cta" type="button" id="heroPick">Pick a template</button>
        <button class="ghost" type="button" id="heroPreview">Preview templates</button>
      </div>
    </section>

    <div class="sectionTitle" id="templates">
      <h2>Template gallery</h2>
      <p class="hint">Preview a design, then choose it. Your selection follows you into the account + editor.</p>
    </div>

    <div class="grid" id="templateGrid"></div>

    <div class="sectionTitle" id="how">
      <h2>How it works</h2>
      <p class="hint">This MVP is set up so you can automate the workflow now, then plug in real publishing later.</p>
    </div>

    <div class="steps">
      <div class="step">
        <strong>1) Choose a template</strong>
        <span>Pick a style. Your choice is saved automatically.</span>
      </div>
      <div class="step">
        <strong>2) Edit your content</strong>
        <span>Use the editing page to set names, date, venue, RSVP link, and more.</span>
      </div>
      <div class="step">
        <strong>3) Publish / Export</strong>
        <span>Export an HTML file immediately. Later, connect “Publish” to your hosting backend.</span>
      </div>
    </div>

    <footer>
      <div>© <span id="year"></span> Knotte Studios</div>
      <div style="display:flex; gap:10px; flex-wrap:wrap;">
        <a class="pill" href="9.KS.SignUp.html">Account</a>
        <a class="pill" href="9.KS.Dashboard.html">Dashboard</a>
        <a class="pill" href="9.KS.Editor.html">Editor</a>
      </div>
    </footer>
  </div>

  <!-- Preview Modal -->
  <div class="modalBack" id="modalBack" role="dialog" aria-modal="true" aria-label="Template preview">
    <div class="modal">
      <div class="modalTop">
        <div class="title" id="modalTitle">Template Preview</div>
        <button type="button" id="closeModal">Close</button>
      </div>
      <div class="modalBody">
        <iframe id="previewFrame" title="Template preview"></iframe>
      </div>
    </div>
  </div>

  <script>
    const TEMPLATES = [
      {
        id: "t1-elegant-night",
        name: "Elegant Night",
        desc: "Modern dark theme with crisp sections and RSVP focus.",
        badge: "Popular",
        previewHTML: getTemplateHTML("elegant")
      },
      {
        id: "t2-garden-day",
        name: "Garden Day",
        desc: "Bright, airy layout with timeline + details.",
        badge: "Fresh",
        previewHTML: getTemplateHTML("garden")
      },
      {
        id: "t3-minimal-classic",
        name: "Minimal Classic",
        desc: "Super clean, typography-forward, fast to read.",
        badge: "Simple",
        previewHTML: getTemplateHTML("minimal")
      }
    ];

    function setSelectedTemplate(id){
      localStorage.setItem("KS_SELECTED_TEMPLATE", id);
    }
    function getSelectedTemplate(){
      return localStorage.getItem("KS_SELECTED_TEMPLATE") || "";
    }

    function $(id){ return document.getElementById(id); }

    function openModal(title, html){
      $("modalTitle").textContent = title;
      const blob = new Blob([html], {type:"text/html"});
      const url = URL.createObjectURL(blob);
      $("previewFrame").src = url;
      $("modalBack").style.display = "flex";
      $("modalBack").dataset.blobUrl = url;
    }

    function closeModal(){
      const back = $("modalBack");
      back.style.display = "none";
      const url = back.dataset.blobUrl;
      if(url) URL.revokeObjectURL(url);
      back.dataset.blobUrl = "";
      $("previewFrame").src = "about:blank";
    }

    function renderTemplates(){
      const grid = $("templateGrid");
      grid.innerHTML = "";
      const selected = getSelectedTemplate();

      TEMPLATES.forEach(t => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <div class="thumb" aria-hidden="true">
            <div class="label">${t.badge}</div>
            <div class="mini"></div>
          </div>
          <h3>${escapeHTML(t.name)}</h3>
          <p>${escapeHTML(t.desc)}</p>
          <div class="cardActions">
            <button class="btn" type="button" data-action="preview" data-id="${t.id}">Preview</button>
            <button class="btn btnPrimary" type="button" data-action="choose" data-id="${t.id}">
              ${t.id === selected ? "Selected ✓" : "Choose template"}
            </button>
          </div>
        `;
        grid.appendChild(card);
      });
    }

    function escapeHTML(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    function getTemplateHTML(flavor){
      // This preview uses placeholder tokens like {{COUPLE_NAMES}}; the editor will replace them.
      const base = `
<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{COUPLE_NAMES}} — Wedding</title>
  <style>
    :root{
      --bg:#0b0c10; --card:#12141b; --text:#f4f6ff; --muted:#b7bdd6;
      --line:rgba(255,255,255,.10); --accent:#7c5cff; --accent2:#20d3ff;
      --radius:18px;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    body{margin:0; font-family:var(--sans); background:var(--bg); color:var(--text);}
    .wrap{max-width:980px; margin:0 auto; padding:28px 18px 70px;}
    header{border:1px solid var(--line); border-radius:var(--radius); padding:22px; background:rgba(255,255,255,.03);}
    h1{margin:0 0 6px; font-size:34px; letter-spacing:-.02em;}
    .sub{margin:0; color:var(--muted); line-height:1.55;}
    .grid{display:grid; grid-template-columns: repeat(12,1fr); gap:14px; margin-top:16px;}
    .card{grid-column:span 6; border:1px solid var(--line); border-radius:var(--radius); padding:16px; background:rgba(255,255,255,.03);}
    .card h2{margin:0 0 8px; font-size:18px}
    .card p{margin:0; color:var(--muted); line-height:1.5;}
    .btn{
      display:inline-block; margin-top:12px;
      padding:10px 12px; border-radius:12px;
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      color:#061018; font-weight:900; text-decoration:none;
    }
    footer{margin-top:22px; color:var(--muted); font-size:14px}
    @media (max-width:720px){ .card{grid-column:span 12;} }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>{{COUPLE_NAMES}}</h1>
      <p class="sub">{{WEDDING_DATE}} • {{WEDDING_LOCATION}}</p>
      <p class="sub" style="margin-top:10px;">{{WELCOME_MESSAGE}}</p>
      <a class="btn" href="{{RSVP_URL}}">RSVP</a>
    </header>

    <div class="grid">
      <div class="card">
        <h2>Schedule</h2>
        <p>{{SCHEDULE_TEXT}}</p>
      </div>
      <div class="card">
        <h2>Details</h2>
        <p>{{DETAILS_TEXT}}</p>
      </div>
      <div class="card">
        <h2>Registry</h2>
        <p>{{REGISTRY_TEXT}}</p>
      </div>
      <div class="card">
        <h2>Our Story</h2>
        <p>{{STORY_TEXT}}</p>
      </div>
    </div>

    <footer>Hosted by Knotte Studios</footer>
  </div>
</body>
</html>`;

      if(flavor === "garden"){
        return base.replaceAll("#0b0c10","#07130f")
                   .replaceAll("#12141b","#0c1c16")
                   .replaceAll("#7c5cff","#7cffb0")
                   .replaceAll("#20d3ff","#88e8ff");
      }
      if(flavor === "minimal"){
        return base.replaceAll("background:var(--bg);","background:#0b0c10;")
                   .replaceAll("--bg:#0b0c10; --card:#12141b;","--bg:#0b0c10; --card:#0e1016;")
                   .replaceAll("linear-gradient(135deg,var(--accent),var(--accent2))","linear-gradient(135deg,#ffffff,#b7bdd6)")
                   .replaceAll("color:#061018;","color:#0b0c10;");
      }
      return base; // elegant default
    }

    // Events
    document.addEventListener("click", (e) => {
      const btn = e.target.closest("button");
      if(!btn) return;

      const action = btn.dataset.action;
      const id = btn.dataset.id;
      if(!action || !id) return;

      const t = TEMPLATES.find(x => x.id === id);
      if(!t) return;

      if(action === "preview"){
        openModal(`Preview: ${t.name}`, t.previewHTML);
      }
      if(action === "choose"){
        setSelectedTemplate(id);
        renderTemplates();
        // Move them into account creation / login flow
        window.location.href = "9.KS.SignUp.html";
      }
    });

    $("closeModal").addEventListener("click", closeModal);
    $("modalBack").addEventListener("click", (e) => {
      if(e.target === $("modalBack")) closeModal();
    });

    $("startBtn").addEventListener("click", () => {
      document.getElementById("templates").scrollIntoView({behavior:"smooth"});
    });
    $("heroPick").addEventListener("click", () => {
      document.getElementById("templates").scrollIntoView({behavior:"smooth"});
    });
    $("heroPreview").addEventListener("click", () => {
      document.getElementById("templates").scrollIntoView({behavior:"smooth"});
    });

    $("year").textContent = new Date().getFullYear();
    renderTemplates();
  </script>
</body>
</html>
